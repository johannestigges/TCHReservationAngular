<div class="container">
  <!-- title -->
  <div class="form-group mb-3">
    <h2 class="col-sm-offset-2 col-sm-10">Systemkonfiguration anlegen</h2>
  </div>

  <form [formGroup]="form" class="form-horizontal">
    <!-- id -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Id:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="id" />
        <tch-field-error [fieldErrors]="fieldErrors" field="id" />
      </div>
    </div>

    <!-- name -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Name:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="name" />
        <tch-field-error [fieldErrors]="fieldErrors" field="name" />
      </div>
    </div>

    <!-- title -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Titel:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="title" />
        <tch-field-error [fieldErrors]="fieldErrors" field="titel" />
      </div>
    </div>

    <!-- courts -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Plätze:</label>
      <div class="col-sm-10" formArrayName="courts">
        <div class="d-flex flex-row align-items-center"
          *ngFor="let court of form.controls.courts.controls; let i = index">
          <input class="flex-grow-1" type="text" [formControl]="court" />
          <button class="btn btn-outline-secondary m-1" (click)="removeCourt(i)">
            -
          </button>
        </div>
        <button class="btn btn-outline-secondary" (click)="addCourt()">
          +
        </button>
      </div>
    </div>

    <!-- reservation types -->
    <div class="form-group mb-3">
      <tch-reservation-types formGroupName="types"></tch-reservation-types>
    </div>

    <!-- durationUnit -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Buchungseinheit:</label>
      <div class="col-sm-10">
        <select class="form-control" formControlName="durationUnitInMinutes">
          <option *ngFor="let du of durationUnits" [value]="du">
            {{ du }} Minuten
          </option>
        </select>
        <tch-field-error [fieldErrors]="fieldErrors" field="durationUnit" />
      </div>
    </div>

    <!-- maxReservation -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">im Voraus buchbar:</label>
      <div class="col-sm-10">
        <select class="form-control" formControlName="maxDaysReservationInFuture">
          <option *ngFor="let md of maxDays" [value]="md">{{ md }} Tage</option>
        </select>
        <tch-field-error [fieldErrors]="fieldErrors" field="maxDaysReservationInFuture" />
      </div>
    </div>

    <!-- maxDuration -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">maximale Buchungsdauer:</label>
      <div class="col-sm-10">
        <select class="form-control" formControlName="maxDuration">
          <option *ngFor="let md of maxDurations" [value]="md">
            {{ md }}
          </option>
        </select>
        <tch-field-error [fieldErrors]="fieldErrors" field="maxDuration" />
      </div>
    </div>

    <!-- openingHour -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Buchbar von :</label>
      <div class="col-sm-10">
        <select class="form-control" formControlName="openingHour">
          <option *ngFor="let oh of openingHours" [value]="oh">
            {{ oh }} Uhr
          </option>
        </select>
        <tch-field-error [fieldErrors]="fieldErrors" field="openingHour" />
      </div>
    </div>

    <!-- closingHour -->
    <div class="form-group mb-3">
      <label class="col-sm-2 control-label">Buchbar bis :</label>
      <div class="col-sm-10">
        <select class="form-control" formControlName="closingHour">
          <option *ngFor="let ch of closingHours" [value]="ch">
            {{ ch }} Uhr
          </option>
        </select>
        <tch-field-error [fieldErrors]="fieldErrors" field="closingHour" />
      </div>
    </div>

    <!-- error -->
    <div class="form-group mb-3">
      <div class="col-sm-offset-2 col-sm-10">
        <tch-show-error [httpError]="httpError" [errorMessages]="errorMessages" [fieldErrors]="fieldErrors">
        </tch-show-error>
      </div>
    </div>

    <!-- Buttons -->
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button (click)="onSubmit()" class="btn btn-primary">Systemkonfiguration anlegen</button>
        <button (click)="onCancel()" class="btn btn-outline-secondary ms-1">Zurück</button>
      </div>
    </div>
  </form>
</div>
