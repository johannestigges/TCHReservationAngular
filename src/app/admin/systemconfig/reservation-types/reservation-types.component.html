<h4 class="mt-4">Reservierungsarten:</h4>
@if (form) {
  <div>
    @for (type of form!.controls; track type; let i = $index) {
      <div class="row mb-3">
        <dialog #typeDialog>
          <tch-reservation-type [value]="type.getRawValue()"
            (finished)="onFinishedReservationType($event); typeDialog.close();">
          </tch-reservation-type>
        </dialog>
        <div class="col-12 col-md-3 col-lg-2">
          ({{type.controls.id.value}}) <span class="fw-bold">{{type.controls.name.value}}</span>
        </div>
        <div class="col-12  col-md-9 col-lg-4">
          @if (type.controls.maxDaysReservationInFuture.value) {
            <div>
              Reservierbar {{type.controls.maxDaysReservationInFuture.value}} Tage im Voraus
            </div>
          }
          @if (type.controls.maxCancelInHours.value) {
            <div>
              Stornierbar {{type.controls.maxCancelInHours.value}} Stunden vor Beginn
            </div>
          }
          @if (type.controls.repeatable.value) {
            <div>
              Wiederholungen möglich
            </div>
          }
          @if (type.controls.publicVisible.value) {
            <div>
              Text öffentlich sichtbar
            </div>
          }
          <div>
            {{getWeekDays(type.controls.forbiddenDaysOfWeek)}}
          </div>
        </div>
        <div class="col-12  col-md-12 offset-md-3 col-lg-4 offset-lg-0">
          Nutzbar von: {{getRoles(type.controls.roles)}}
        </div>
        <div class="col-12 col-md-12 offset-md-3 col-lg-2 offset-lg-0">
          <button class="btn btn-outline-secondary" (click)="onStartEdit(i); typeDialog.showModal()">ändern</button>
          <button class="btn btn-outline-secondary ms-1" (click)="onRemove(i)">-</button>
        </div>
      </div>
    }
    <div class="row">
      <dialog #typeAddDialog>
        @if (inEdit === (form?.length||0) + 1) {
          <tch-reservation-type
            (finished)="onFinishedReservationType($event); typeAddDialog.close();">
          </tch-reservation-type>
        }
      </dialog>
    </div>
    @if (inEdit === NOT_IN_EDIT) {
      <button class="btn btn-outline-secondary"
        (click)="onStartEdit((form?.length||0) + 1); typeAddDialog.showModal();">
        + Reservierungsart hinzufügen
      </button>
    }
  </div>
}
